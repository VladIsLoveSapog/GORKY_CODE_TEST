# Краткое описание проекта

**[@GorkyCode2025Bot](https://t.me/GorkyCode2025Bot)** — это **умный Telegram-бот**, который помогает пользователю **спланировать прогулку по городу**.

Он узнает у человека три вещи:
  * что ему интересно,
  * сколько у него есть времени,
  * точку отправления

И на основе этого подбирает до **5 реальных мест** по интересам, объясняет, почему стоит туда сходить, рассчитывает маршрут и формирует **готовую ссылку на Яндекс.Карты**.

Главная идея сервиса — сделать построение прогулочного маршрута таким же простым, как переписка с другом: все в **естественном языке**, без форм и сложных интерфейсов.

# Техническая реализация
## Как работает?

1.  **Ввод данных пользователем** – бот спрашивает о интересах, времени прогулки и местоположении.
2.  **Классификация интересов** – **LLM GigaChat 2** сопоставляет пользовательский запрос с категориями достопримечательностей.
3.  **Расчёт маршрута** – алгоритм строит маршрут с учётом времени и расстояний, используя сервис с бесплатным доступом к API **OSRM** для вычисления времени в пути и выбора ближайших объектов.
4.  **Описание объектов** – **LLM** создаёт краткие и информативные описания для туриста на основе датасета.
5.  **Представление маршрута** – генерируются сообщения с объектами, временем на путь, расстоянием и ссылками на **Яндекс.Картах**.

**Итог:** персонализированный, быстрый и удобный маршрут с подробными описаниями достопримечательностей.

## Что используется?
1. **Python + асинхронность (async, aiohttp)**

    Асинхронность обеспечивает **быструю и плавную работу бота**. Запросы к AI или картам выполняются **параллельно**, поэтому один пользователь **не блокирует** работу другого. В Python стандартная многопоточность ограничена GIL, поэтому **async** и **aiohttp** идеально подходят для сетевых операций и одновременной работы с несколькими пользователями.


2. **aiogram**

   Асинхронная библиотека для **Telegram-ботов**, которая позволяет обрабатывать множество пользователей одновременно, обеспечивая плавный интерфейс: кнопки, ввод текста, отправка координат — все работает без задержек.


3. **Pandas**

   Для работы с базой данных интересных мест (Excel-файлы) используется **Pandas** — стандарт для анализа данных в **Python**.
   Удобно фильтровать объекты по категориям, случайно перемешивать записи и выбирать топ-места по времени и расстоянию всего в несколько строк кода.


4. **OpenSourceRoutingMachine (OSRM) + OpenStreetMap**

    **OSRM** строит маршруты и рассчитывает примерное время пути **бесплатно**. Подходит для прототипа, когда не используется платный API.
    **OpenStreetMap** обеспечивает базовую карту города, достаточную для ориентировочного маршрута и фильтрации по времени.


5. **Яндекс.Карты**

    Для пользователя формируется ссылка на маршрут в **Яндекс.Картах** — удобно, привычно и актуально.
    Карты учитывают дорожные условия, пробки и транспорт, а визуализация маршрута через Яндекс делает сервис более понятным.


6. **GigaChat 2**

    Секретный ингредиент сервиса — **отечественная нейросеть** на русском языке, с удобным API и большим количеством бесплатных токенов для прототипа.

    **GigaChat 2:**
   * понимает текст пользователя на **естественном языке**, независимо от того, как введены интересы или время;
   * выделяет **ключевые категории** для поиска мест;
   * генерирует **краткие и живые описания** для каждого объекта.

# Почему именно так?

Сервис построен так, чтобы каждое действие пользователя выполнялось **как можно скорее**. Асинхронная архитектура позволяет обрабатывать запросы параллельно: пока один пользователь вводит интересы, другой уже получает готовый маршрут. Такой подход делает сервис быстрым, отзывчивым и готовым к многопользовательской работе.

Сердце бота — **отечественная LLM GigaChat 2**. Она понимает текст на естественном языке и нюансы городских объектов, выделяет ключевые категории на основе пользовательского запроса и генерирует живые описания. Для задач, делегируемых LLM достаточно небольшой модели, что удешевляет внедрение нашего решения. Алгоритм составляет маршрут, выбирая объекты и фильтруя их по времени и расстоянию до того, как отправить LLM запрос на генерацию описаний. Это оптимизирует использование модели, сокращает количество запросов и токенов, ускоряет работу.

Для повышения точности определяемых LLM категорий на основе введенного пользователя текстом был расширен набор категорий, а также определены наборы тегов для них. Данные операции также приводились при помощи использования LLM, но с последующей ручной валидацией.

Использование OSRM + OpenStreetMap для расчета маршрутов делает сервис делает сервис **недорогим в обслуживании**. В то-же время, для удобства пользователя, итоговый маршрут предлагается пользователю в виде ссылки на распространённый отечественный сервис Яндекс.Карты. Также, Яндекс.Карты при отображении маршрутра учитывают большее количество факторов, что позволяет точнее предстказывать время в пути.

**Итог** — наша реализация объединяет скорость, экономию ресурсов и учитывает пожелания пользователя, а также время и расстояние.

_Прототип, собранный всего за два дня, показывает, насколько слаженно работает команда. Несмотря на то, что проект был обнаружен всего за несколько дней до дедлайна, команда смогла реализовать максимально возможный функционал, превратив идею в полностью рабочий сервис. Это подтверждает эффективность, скорость принятия решений и профессионализм участников._
# Почему сервис самый лучший для пользователя

* **Удобство** - не нужно ничего скачивать или устанавливать, достаточно открыть бота в **Telegram** и следовать подсказкам.
* **Персонализированный маршрут** - маршрут составляется с учетом **интересов, времени и местоположения** пользователя.
* **Привычные Яндекс.Карты** - ссылки ведут на популярный и удобный отечественный сервис, где можно сразу посмотреть маршрут, пробки и время в пути.
* **Описание достопримечательностей** - каждая точка снабжена **кратким живым описанием**, чтобы понять, почему стоит идти именно туда.
* **Комфорт и простота** - не нужно искать и фильтровать места вручную; сервис строит маршрут **автоматически**, стараясь сделать прогулку пользователя как можно более насыщенной и интересной.
